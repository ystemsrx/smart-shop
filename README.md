# ğŸ›ï¸ æ™ºæ…§å•†åŸç³»ç»Ÿ

[![Made with Next.js](https://img.shields.io/badge/Made%20with-Next.js-000000?style=for-the-badge\&logo=next.js)](https://nextjs.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-009688?style=for-the-badge\&logo=fastapi\&logoColor=white)](https://fastapi.tiangolo.com/)
[![Python](https://img.shields.io/badge/Python-3776AB?style=for-the-badge\&logo=python\&logoColor=white)](https://python.org/)
[![React](https://img.shields.io/badge/React-20232A?style=for-the-badge\&logo=react\&logoColor=61DAFB)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge\&logo=typescript\&logoColor=white)](https://typescriptlang.org/)
[![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge\&logo=docker\&logoColor=white)](https://docker.com/)

<div align="center">

![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)
![License](https://img.shields.io/badge/license-Apache%202.0-blue.svg)
![Build Status](https://img.shields.io/badge/build-passing-brightgreen.svg)
![Maintenance](https://img.shields.io/badge/Maintained%3F-yes-green.svg)

**ç°ä»£åŒ–çš„æ™ºæ…§å•†åŸç³»ç»Ÿï¼šé›†æˆ AI è´­ç‰©åŠ©æ‰‹ã€å¤šè§’è‰²æƒé™ã€å®Œæ•´ç”µå•†é—­ç¯ã€‚**

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [æ¶æ„ä¸æŠ€æœ¯æ ˆ](#-æ¶æ„ä¸æŠ€æœ¯æ ˆ) â€¢ [ç•Œé¢é¢„è§ˆ](#-ç•Œé¢é¢„è§ˆ) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [é…ç½®](#-é…ç½®) â€¢ [è§’è‰²ä¸åå°](#-è§’è‰²ä¸åå°) â€¢ [AI èƒ½åŠ›](#-ai-èƒ½åŠ›) â€¢ [æ•…éšœæ’é™¤](#-æ•…éšœæ’é™¤)

</div>

## ğŸ“‹ ç›®å½•

* [ğŸŒŸ åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
* [ğŸ—ï¸ æ¶æ„ä¸æŠ€æœ¯æ ˆ](#-æ¶æ„ä¸æŠ€æœ¯æ ˆ)
* [ğŸ“± ç•Œé¢é¢„è§ˆ](#-ç•Œé¢é¢„è§ˆ)
* [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)

  * [ç¯å¢ƒè¦æ±‚](#ç¯å¢ƒè¦æ±‚)
  * [æœ¬åœ°å¼€å‘](#æœ¬åœ°å¼€å‘)
  * [Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰](#docker-éƒ¨ç½²æ¨è)
* [ğŸ”§ é…ç½®](#-é…ç½®)
* [ğŸ‘¥ è§’è‰²ä¸åå°](#-è§’è‰²ä¸åå°)
* [ğŸ¤– AI èƒ½åŠ›](#-ai-èƒ½åŠ›)
* [ğŸ›¡ï¸ æ•…éšœæ’é™¤](#-æ•…éšœæ’é™¤)
* [ğŸ¤ è´¡çŒ®](#-è´¡çŒ®)
* [ğŸ“„ è®¸å¯è¯](#-è®¸å¯è¯)

---

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

**æ ¸å¿ƒä½“éªŒ**

* ğŸ¤– AI è´­ç‰©åŠ©æ‰‹ï¼šåŸºäº LLM çš„å’¨è¯¢ä¸æ¨è
* ğŸ›’ è´­ç‰©æµç¨‹ï¼šè´­ç‰©è½¦ã€å˜ä½“ã€æ‰¹é‡æ“ä½œã€å®æ—¶ä»·è®¡
* ğŸ” æœç´¢ä¸åˆ†ç±»ï¼šæ¨¡ç³Šæ£€ç´¢ + åˆ†ç±»æµè§ˆ
* ğŸ¨ ç°ä»£ UIï¼šå“åº”å¼

**åå°ä¸è¿è¥**

* ğŸ‘‘ å¤šè§’è‰²æƒé™ï¼šè¶…çº§ç®¡ç†å‘˜ / ç®¡ç†å‘˜ / ä»£ç†å•†
* ğŸ“Š æ•°æ®ä»ªè¡¨ç›˜ï¼šå®æ—¶é”€å”®ä¸ä¸šåŠ¡åˆ†æ
* ğŸª å•†å“ç®¡ç†ï¼šä¸Šæ¶ã€åº“å­˜ã€åˆ†ç±»
* ğŸšš é…é€ç­–ç•¥ï¼šèŒƒå›´ä¸è´¹ç”¨çµæ´»é…ç½®
* ğŸ’° è¥é”€æ´»åŠ¨ï¼šæ»¡å‡ã€æŠ½å¥–ã€æ™ºèƒ½èµ å“

**å¢å€¼èƒ½åŠ›**

* ğŸ² æŠ½å¥–ç³»ç»Ÿï¼šè®¢å•æ»¡é¢è‡ªåŠ¨æŠ½å¥–
* ğŸ æ™ºèƒ½èµ å“ï¼šæŒ‰è®¢å•é‡‘é¢è‡ªåŠ¨å‘æ”¾
* ğŸ  åœ°å€èŒƒå›´ï¼šæ¥¼æ ‹/åŒºåŸŸå¯é…ç½®
* ğŸ“ˆ åˆ†ææ´å¯Ÿï¼šé”€å”®è¶‹åŠ¿ & ç”¨æˆ·è¡Œä¸º

---

## ğŸ—ï¸ æ¶æ„ä¸æŠ€æœ¯æ ˆ

**æ•´ä½“æ¶æ„**

* å‰ç«¯ï¼šNext.js + React + TypeScript
* åç«¯ï¼šFastAPIï¼ŒSQLite
* é‰´æƒï¼šJWT + è§’è‰²/æƒé™æ§åˆ¶ï¼ˆRBACï¼‰
* éƒ¨ç½²ï¼šDocker Compose ä¸€é”®åŒ–

**ä¸»è¦æŠ€æœ¯**

* å‰ç«¯ï¼šNext.jsã€Reactã€TypeScriptã€Tailwind
* åç«¯ï¼šFastAPIã€Python 3.12ï¼ˆå»ºè®®ï¼‰
* æ•°æ®ï¼šSQLiteï¼ˆé»˜è®¤ä½äº `backend/dorm_shop.db`ï¼‰
* è¿ç»´ï¼šDocker / docker-compose

---

## ğŸ“± ç•Œé¢é¢„è§ˆ

### ç”¨æˆ·ç«¯

<table>
<tr>
<td width="33%">
<h4>ğŸ  AIèŠå¤©åŠ©æ‰‹</h4>
<img src="./assets/ai_chat.png" alt="AI Chat"/>
<p>æ™ºèƒ½è´­ç‰©åŠ©æ‰‹ï¼Œæ”¯æŒå•†å“æ¨èå’Œå’¨è¯¢</p>
</td>
<td width="33%">
<h4>ğŸ›ï¸ å•†å“å•†åŸ</h4>
<img src="./assets/shop.png" alt="Product Store"/>
<p>å•†å“å±•ç¤ºå’Œåˆ†ç±»æµè§ˆç•Œé¢</p>
</td>
<td width="33%">
<h4>ğŸ›’ è´­ç‰©è½¦</h4>
<img src="./assets/cart.png" alt="Shopping Cart"/>
<p>è´­ç‰©è½¦ç®¡ç†å’Œç»“ç®—ç•Œé¢</p>
</td>
</tr>
</table>

### ç®¡ç†ç«¯

<table>
<tr>
<td width="50%">
<h4>ğŸ“Š ç®¡ç†ä»ªè¡¨ç›˜</h4>
<img src="./assets/dashboard.png" alt="Admin Dashboard"/>
<p>æ•°æ®ç»Ÿè®¡ä¸ä¸šåŠ¡åˆ†æ</p>
</td>
<td width="50%">
<h4>ğŸ“¦ å•†å“ç®¡ç†</h4>
<img src="./assets/manage.png" alt="Product Management"/>
<p>ä¸Šæ¶/ç¼–è¾‘/åº“å­˜ç®¡ç†</p>
</td>
</tr>
</table>

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

![Node.js](https://img.shields.io/badge/Node.js-v18%2B-339933?style=flat-square\&logo=node.js)
![Python](https://img.shields.io/badge/Python-v3.12%20recommended-3776AB?style=flat-square\&logo=python)
![Docker](https://img.shields.io/badge/Docker-v20%2B-2496ED?style=flat-square\&logo=docker)

### æœ¬åœ°å¼€å‘

1. **å…‹éš†é¡¹ç›®**

```bash
git clone https://github.com/ystemsrx/smart-shop.git
cd smart-shop

# åˆ›å»ºå¿…è¦æ–‡ä»¶å¤¹å¹¶æ”¾ç½®å•†åº—logoå›¾ç‰‡
msdir public
cp /path/to/your/logo.png public/logo.png
```

2. **ç¯å¢ƒé…ç½®**

å…·ä½“è¯·å‚è€ƒ [é…ç½®](#-é…ç½®) éƒ¨åˆ†ã€‚

```bash
cp .env.example .env
# æŒ‰éœ€ä¿®æ”¹ .env
```

3. **å¯åŠ¨åç«¯**

* **Linux**

```bash
cd backend
chmod +x start.sh
./start.sh
```

* **Windows**

è¿›å…¥ `backend` ç›®å½•åŒå‡» `start.bat`

4. **å¯åŠ¨å‰ç«¯**

```bash
# é¡¹ç›®æ ¹ç›®å½•
npm install
npm run dev
```

ç”Ÿäº§ç¯å¢ƒå¯ç›´æ¥ï¼š

```bash
chmod +x run.sh
./run.sh
```

5. **è®¿é—®æœåŠ¡**

* å‰ç«¯ï¼š[http://localhost:3000](http://localhost:3000)
* åç«¯ APIï¼š[http://localhost:9099](http://localhost:9099)
* ç®¡ç†åå°ï¼š[http://localhost:3000/admin](http://localhost:3000/admin)

### Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

å‚è€ƒ [é…ç½®](#-é…ç½®) éƒ¨åˆ†

ä¿®æ”¹ `.env` æ–‡ä»¶å¹¶å°†å•†åº— logo å›¾ç‰‡ï¼ˆlogo.pngï¼‰æ”¾è¿›publicæ–‡ä»¶å¤¹åï¼š

```bash
# æ„å»ºå¹¶å¯åŠ¨
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢å¹¶æ¸…ç†
docker-compose down
```

---

## ğŸ”§ é…ç½®

å¤åˆ¶ `.env.example` ä¸º `.env` å¹¶æ ¹æ®éœ€è¦è°ƒæ•´ï¼š

```env
# è¿è¡Œç¯å¢ƒ
ENV=development
SHOP_NAME=ä½ çš„å•†åŸåç§°

# JWT é‰´æƒ
JWT_SECRET_KEY=your_jwt_secret_key
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_DAYS=30

# ç®¡ç†å‘˜ï¼ˆé€—å·åˆ†éš”ï¼Œå¤šè´¦å·ï¼‰
ADMIN_USERNAME=admin1,admin2
ADMIN_PASSWORD=your_admin_password1,your_admin_password2

# AIï¼ˆç¤ºä¾‹ä¸ºæ™ºè°±æ¸…è¨€ï¼‰
API_KEY=your_api_key_here
API_URL=https://open.bigmodel.cn/api/paas/v4/chat/completions
MODEL=glm-4.5,glm-4.5-flash,glm-4-flash-250414,glm-4.0-flash
BIGMODEL_SUPPORTS_THINKING=glm-4.5,glm-4.5-flash

# ç¬¬ä¸‰æ–¹ç™»å½•ï¼ˆå¯é€‰ï¼‰
LOGIN_API=https://your-login-api.com

# åç«¯
BACKEND_HOST=0.0.0.0
BACKEND_PORT=9099
LOG_LEVEL=INFO

# æ•°æ®åº“
DB_PATH=dorm_shop.db
DB_RESET=0

# å‰ç«¯
NEXT_PUBLIC_API_URL=https://your-api-domain.com
NEXT_PUBLIC_IMAGE_BASE_URL=https://your-api-domain.com
NEXT_PUBLIC_FILE_BASE_URL=https://your-api-domain.com

# CORS
ALLOWED_ORIGINS=https://your-frontend-domain.com,http://localhost:3000

# é™æ€èµ„æºç¼“å­˜ï¼ˆç§’ï¼‰
STATIC_CACHE_MAX_AGE=2592000

# å¼€å‘ç¯å¢ƒï¼ˆENV=development æ—¶ç”Ÿæ•ˆï¼‰
DEV_NEXT_PUBLIC_API_URL=http://localhost:9099
DEV_NEXT_PUBLIC_IMAGE_BASE_URL=http://localhost:9099
DEV_NEXT_PUBLIC_FILE_BASE_URL=http://localhost:9099
DEV_BACKEND_HOST=localhost
DEV_LOG_LEVEL=DEBUG
```

å…¶ä¸­â€œç¬¬ä¸‰æ–¹ç™»å½•â€éƒ¨åˆ†éœ€è¦å¡«å†™ä½ è‡ªå·±çš„ç™»å½•æœåŠ¡ API åœ°å€ï¼Œè¯¥ç³»ç»Ÿä¼šå‘ç›®æ ‡ API åœ°å€å‘é€å¦‚ä¸‹æ ¼å¼çš„è¯·æ±‚ä»¥éªŒè¯ç”¨æˆ·èº«ä»½ï¼Œè¯·è‡ªè¡Œè°ƒæ•´ä»¥ç¬¦åˆä½ çš„ç™»å½•æœåŠ¡è¦æ±‚ã€‚

```
payload = {
    "account": {id},
    "password": {password}
}
```

---

## ğŸ‘¥ è§’è‰²ä¸åå°

**æ™®é€šç”¨æˆ·**

* æµè§ˆ/æœç´¢ã€AI åŠ©æ‰‹å’¨è¯¢ã€è´­ç‰©è½¦ã€ä¸‹å•/è·Ÿè¸ª

**ä»£ç†å•†ï¼ˆAgentï¼‰**

* å•†å“ä¸Šæ¶ã€è®¢å•å¤„ç†ä¸å‘è´§ã€ä»£ç†åŒºåŸŸã€è¥ä¸šçŠ¶æ€ã€é”€å”®æ•°æ®

**ç®¡ç†å‘˜ï¼ˆAdminï¼‰**

* æ‹¥æœ‰ä»£ç†å•†å…¨éƒ¨æƒé™ï¼›å¹³å°çº§æ•°æ®ä¸å…¨å±€é…ç½®

**ç®¡ç†åå°èƒ½åŠ›**

* é”€å”®ç»Ÿè®¡ï¼ˆä»Šæ—¥/å‘¨/æœˆï¼‰ã€çƒ­é”€æ’è¡Œã€ç”¨æˆ·æ´»è·ƒåº¦ã€ä»£ç†å•†ä¸šç»©
* è®¢å•å…¨é“¾è·¯ï¼ˆçŠ¶æ€/ç‰©æµ/æ”¯ä»˜/è¯¦æƒ…ï¼‰

---

## ğŸ¤– AI èƒ½åŠ›

æœ¬ç³»ç»Ÿé›†æˆ **æ™ºè°±æ¸…è¨€** æä¾›çš„ AI åŠ©æ‰‹ï¼ˆéœ€è‡ªè¡Œå‰å¾€[æ™ºè°±AI å®˜ç½‘](https://bigmodel.cn/)ç”³è¯· API Key å¹¶é…ç½®åˆ° `.env` ä¸­ï¼‰ã€‚

**AI åŠŸèƒ½**

* ğŸ¯ å•†å“æ¨è
* ğŸ›’ è´­ç‰©åŠ©æ‰‹
* ğŸ’¬ è‡ªç„¶å¯¹è¯
* ğŸ”§ å·¥å…·è°ƒç”¨ï¼ˆå®æ—¶æŸ¥è¯¢/æ“ä½œï¼‰

**å·²é›†æˆçš„å·¥å…·**

| å·¥å…·                | è¯´æ˜      | æƒé™  |
| ----------------- | ------- | --- |
| `search_products` | å•†å“æœç´¢/æµè§ˆ | å…¬å¼€  |
| `get_category`    | åˆ†ç±»è·å–    | å…¬å¼€  |
| `update_cart`     | è´­ç‰©è½¦å¢åˆ æ”¹  | éœ€ç™»å½• |
| `get_cart`        | æŸ¥çœ‹è´­ç‰©è½¦   | éœ€ç™»å½• |

---

## ğŸ›¡ï¸ æ•…éšœæ’é™¤

**1) æœåŠ¡ç«¯å£è¢«å ç”¨**

* **Windows**

```bat
netstat -ano | findstr :3000
netstat -ano | findstr :9099
REM è®°ä¸‹ PID åï¼š
taskkill /PID <PID> /F
```

* **Linux**

```bash
lsof -i :3000
lsof -i :9099
kill -9 <PID>
```

> ä¹Ÿå¯æ”¹ç«¯å£ï¼š

```bash
export FRONTEND_PORT=3001
export BACKEND_PORT=9100
```

**2) æ•°æ®åº“å¼‚å¸¸**

```bash
# æƒé™æ£€æŸ¥
ls -la backend/dorm_shop.db
# é‡æ–°åˆå§‹åŒ–
cd backend && python init_db.py
```

**3) AI é…ç½®é”™è¯¯**

```bash
# æ£€æŸ¥ç¯å¢ƒå˜é‡
echo $API_KEY
echo $API_URL
# ç¼–è¾‘ .env é‡æ–°åŠ è½½
```

**4) å›¾ç‰‡ä¸Šä¼ å¤±è´¥**

```bash
# ç›®å½•æƒé™
chmod 755 backend/items/ backend/public/
# æ¸…ç†ç¼“å­˜
rm -rf backend/__pycache__
```

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿ Issue / PRï¼

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **Apache 2.0**ã€‚è¯¦è§ [LICENSE](LICENSE)ã€‚

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹ä¸€ä¸ª â­ï¸ æ”¯æŒï¼**  
[ğŸ› æäº¤é—®é¢˜](https://github.com/ystemsrx/smart-shop/issues) â€¢ [ğŸ’¡ åŠŸèƒ½å»ºè®®](https://github.com/ystemsrx/smart-shop/discussions)

</div>
